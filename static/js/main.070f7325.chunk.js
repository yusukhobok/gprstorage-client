(this["webpackJsonpgprstorage-client"]=this["webpackJsonpgprstorage-client"]||[]).push([[0],{1447:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(114),s=a.n(c),o=(a(633),a(8)),u=a.n(o),i=a(16),l=a(43),p=a(27),d=a(28),m=a(37),g=a(36),h=(a(635),"https://gprstorage-stage.herokuapp.com/api"),f=a(66),j=a.n(f),v=function(){function e(){Object(p.a)(this,e),this.authorized=!1,this.username="",this.password=""}return Object(d.a)(e,[{key:"getAuth",value:function(){return{auth:{username:this.username,password:this.password}}}},{key:"registrate",value:function(){var e=Object(i.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(h,"/users/registration"),{username:t,password:a});case 3:return r=e.sent,console.log("registrate",r),this.authorized=!0,this.username=t,this.password=a,e.abrupt("return",{status:"OK",message:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"});case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",{status:"Error",message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"});case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"logIn",value:function(){var e=Object(i.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(h,"/users/signin"),{username:t,password:a});case 3:return r=e.sent,console.log("logIn",r),this.authorized=!0,this.username=t,this.password=a,e.abrupt("return",{status:"OK",message:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"});case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0.message),e.abrupt("return",{status:"Error",message:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u043e"});case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){this.authorized=!1,this.username="",this.password=""}}]),e}(),E=function(){function e(){Object(p.a)(this,e),this.authLogic=new v,this.projects=[],this.currentProjectId=null,this.radargrams=[]}return Object(d.a)(e,[{key:"getCurrentProject",value:function(){var e=this;if(null===this.currentProjectId)return null;var t=this.projects.find((function(t){return t.id===e.currentProjectId}));return void 0===t?null:t}},{key:"openProject",value:function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.authLogic.authorized){e.next=3;break}return e.abrupt("return",{status:"Error",message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"});case 3:if(0!==this.projects.length){e.next=5;break}return e.abrupt("return",{status:"Error",message:"\u041d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430"});case 5:return e.next=7,j.a.get("".concat(h,"/projects/").concat(t,"/radargrams"),this.authLogic.getAuth());case 7:return a=e.sent,this.setRadargrams(a.data.radargrams),this.currentProjectId=t,e.abrupt("return",{status:"OK",message:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0430\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e"});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{status:"Error",message:e.t0.message});case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getProjects",value:function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.authLogic.authorized){e.next=3;break}return e.abrupt("return",{status:"Error",message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"});case 3:return console.log(this.authLogic.getAuth()),e.next=6,j.a.get("".concat(h,"/projects"),this.authLogic.getAuth());case 6:return t=e.sent,console.log("getProjects",t),this.projects=t.data.projects,this.projects.sort((function(e,t){return e.id-t.id})),this.currentProjectId=null,e.abrupt("return",{status:"OK",message:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0430\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e",projects:this.projects});case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",{status:"Error",message:e.t0.message});case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProjectById",value:function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.authLogic.authorized){e.next=3;break}return e.abrupt("return",{status:"Error",message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"});case 3:return e.next=5,j.a.get("".concat(h,"/projects/").concat(t),this.authLogic.getAuth());case 5:return a=e.sent,console.log(a),e.abrupt("return",{status:"OK",message:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0430\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e",project:a.data.project});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{status:"Error",message:e.t0.message});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addProject",value:function(){var e=Object(i.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.authLogic.authorized){e.next=3;break}return e.abrupt("return",{error:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"});case 3:return e.next=5,j.a.post("".concat(h,"/projects"),{name:t,notes:a},this.authLogic.getAuth());case 5:return r=e.sent,e.next=8,this.getProjects();case 8:return console.log(r),e.abrupt("return",{status:"OK",message:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0430\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e",project:r.data.project});case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{status:"Error",message:e.t0.message});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateProject",value:function(){var e=Object(i.a)(u.a.mark((function e(t,a,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.authLogic.authorized){e.next=3;break}return e.abrupt("return",{error:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"});case 3:return e.next=5,j.a.put("".concat(h,"/projects/").concat(t),{name:a,notes:r},this.authLogic.getAuth());case 5:return n=e.sent,e.next=8,this.getProjects();case 8:return e.abrupt("return",{status:"OK",message:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0430\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e",project:n.data.project});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{status:"Error",message:e.t0.message});case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"deleteProject",value:function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.authLogic.authorized){e.next=3;break}return e.abrupt("return",{error:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"});case 3:return e.next=5,j.a.delete("".concat(h,"/projects/").concat(t),this.authLogic.getAuth());case 5:return a=e.sent,e.next=8,this.getProjects();case 8:return console.log(a),e.abrupt("return",{status:"OK",message:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0430\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e"});case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{status:"Error",message:e.t0.message});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRadargramLink",value:function(){var e=Object(i.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.authLogic.authorized){e.next=3;break}return e.abrupt("return",{error:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"});case 3:return e.next=5,j.a.get("".concat(h,"/projects/").concat(t,"/radargrams/").concat(a,"/link"),this.authLogic.getAuth());case 5:return r=e.sent,e.abrupt("return",{status:"OK",message:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0430\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e",link:r.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"Error",message:e.t0.message});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteRadargram",value:function(){var e=Object(i.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.authLogic.authorized){e.next=3;break}return e.abrupt("return",{error:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"});case 3:return e.next=5,j.a.delete("".concat(h,"/projects/").concat(t,"/radargrams/").concat(a),this.authLogic.getAuth());case 5:return r=e.sent,console.log(r),e.abrupt("return",{status:"OK",message:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0430\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e"});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{status:"Error",message:e.t0.message});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"uploadRadargram",value:function(){var e=Object(i.a)(u.a.mark((function e(t,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.authLogic.authorized){e.next=3;break}return e.abrupt("return",{error:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"});case 3:return e.next=5,j.a.post("".concat(h,"/projects/").concat(t,"/radargrams"),a,{headers:{"content-type":"multipart/form-data"},auth:{username:this.authLogic.username,password:this.authLogic.password}});case 5:return r=e.sent,console.log("uploadRadargram",r),e.next=9,this.openProject(t);case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",{status:"Error",message:e.t0.message});case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setRadargrams",value:function(e){this.radargrams=e,this.radargrams.sort((function(e,t){return e.id-t.id}))}},{key:"getTraces",value:function(){var e=Object(i.a)(u.a.mark((function e(t,a,r,n,c){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.authLogic.authorized){e.next=3;break}return e.abrupt("return",{status:"Error",message:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d"});case 3:return e.next=5,j.a.get("".concat(h,"/projects/").concat(t,"/radargrams/").concat(a,"/traces/amplitudes/").concat(r,"/").concat(n,"/").concat(c),this.authLogic.getAuth());case 5:return s=e.sent,o=(o=s.data.amplitudes)[0].map((function(e,t){return o.map((function(e){return e[t]}))})),e.abrupt("return",{status:"OK",message:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0430\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e",amplitudes:o});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",{status:"Error",message:e.t0.message});case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a,r,n,c){return e.apply(this,arguments)}}()}]),e}(),b=a(191),O=a(81),w=a(61),k=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(b.a,{bg:"light",expand:"lg"},n.a.createElement(b.a.Brand,null,"\u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u0440\u0430\u0434\u0430\u0440\u043e\u0433\u0440\u0430\u043c\u043c"),n.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(O.a,{className:"mr-auto",onSelect:this.props.onSelectMenuElement},!this.props.logged&&n.a.createElement(r.Fragment,null,n.a.createElement(O.a.Link,{disabled:!1,eventKey:"registration"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),n.a.createElement(O.a.Link,{disabled:!1,eventKey:"enter"},"\u0412\u0445\u043e\u0434")),this.props.logged&&n.a.createElement(r.Fragment,null,n.a.createElement(w.a,{variant:"primary"},this.props.username),n.a.createElement(O.a.Link,{disabled:!1,eventKey:"exit"},"\u0412\u044b\u0445\u043e\u0434")))))}}]),a}(n.a.Component),P=a(51),x=a(47),y=a(617),S=a(153),C=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).updateState=function(e){r.setState((function(t){return Object(l.a)(Object(l.a)({},t),e)}))},r.onChangeUsername=function(e){var t=e.target.value;r.updateState({username:t})},r.onChangePassword=function(e){var t=e.target.value;r.updateState({password:t})},r.onOk=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return");case 2:if(""!==r.state.username&&""!==r.state.password){e.next=4;break}return e.abrupt("return");case 4:return t.preventDefault(),r.updateState({loading:!0}),e.next=8,r.props.onOkSign(r.state.username,r.state.password);case 8:r.updateState({loading:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onCancel=function(e){e.preventDefault(),r.props.onCancelSign(r.state.username,r.state.password)},r.state={username:"",password:"",loading:!1},r}return Object(d.a)(a,[{key:"render",value:function(){var e=null;this.props.error&&(e=n.a.createElement(y.a,{variant:"danger"},this.props.error));var t=null;return this.state.loading&&(t=n.a.createElement(S.a,{animation:"border",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))),n.a.createElement(P.a,{show:!0,onHide:this.onCancel},n.a.createElement(P.a.Header,{closeButton:!0},n.a.createElement(P.a.Title,null,this.props.isRegistration?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0412\u0445\u043e\u0434")),n.a.createElement(P.a.Body,null,n.a.createElement(x.a,null,n.a.createElement(x.a.Group,null,n.a.createElement(x.a.Label,null,"\u041b\u043e\u0433\u0438\u043d"),n.a.createElement(x.a.Control,{type:"text",value:this.state.username,onChange:this.onChangeUsername,required:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})),n.a.createElement(x.a.Group,null,n.a.createElement(x.a.Label,null,"\u041f\u0430\u0440\u043e\u043b\u044c"),n.a.createElement(x.a.Control,{type:"password",value:this.state.password,onChange:this.onChangePassword,required:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}))),e),n.a.createElement(P.a.Footer,null,t,n.a.createElement(w.a,{variant:"primary",onClick:this.onOk},"\u041e\u041a"),n.a.createElement(w.a,{variant:"secondary",onClick:this.onCancel},"\u041e\u0442\u043c\u0435\u043d\u0430")))}}]),a}(n.a.Component),R=a(246),L=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(R.a,null,n.a.createElement("h1",null,'\u041e\u041e\u041e "\u0422\u0418\u041c"'))}}]),a}(n.a.Component),T=a(38),_=a(619),A=a(618),I=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(P.a,{show:this.props.show,onHide:this.props.onCancelProjectOptions},n.a.createElement(P.a.Header,{closeButton:!0},n.a.createElement(P.a.Title,null,"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430")),n.a.createElement(P.a.Body,null,n.a.createElement(x.a,null,n.a.createElement(x.a.Group,null,n.a.createElement(x.a.Label,null,"\u0418\u043c\u044f"),n.a.createElement(x.a.Control,{type:"text",value:this.props.name,onChange:this.props.onChangeName})),n.a.createElement(x.a.Group,null,n.a.createElement(x.a.Label,null,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),n.a.createElement(x.a.Control,{type:"textarea",value:this.props.notes,onChange:this.props.onChangeNotes})))),n.a.createElement(P.a.Footer,null,n.a.createElement(w.a,{variant:"secondary",onClick:this.props.onCancelProjectOptions},"\u041e\u0442\u043c\u0435\u043d\u0430"),n.a.createElement(w.a,{variant:"primary",onClick:this.props.onChangeProjectOptions},"\u041e\u041a")))}}]),a}(n.a.Component),G=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).clearState=function(){r.updateState({name:"",notes:"",isOpenOptions:!1,currentProjectId:null,isAddNewProject:!1})},r.updateState=function(e){r.setState((function(t){return Object(l.a)(Object(l.a)({},t),e)}))},r.findProjectById=function(e){return r.props.projects.find((function(t){return t.id===e}))},r.onChangeName=function(e){var t=e.target.value;r.updateState({name:t})},r.onChangeNotes=function(e){var t=e.target.value;r.updateState({notes:t})},r.addProject=function(){var e=Object(i.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.addProject(t,a);case 2:r.clearState();case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.changeProject=function(){var e=Object(i.a)(u.a.mark((function e(t,a,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.changeProject(t,a,n);case 2:r.clearState();case 3:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),r.onCancelProjectOptions=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.clearState();case 1:case"end":return e.stop()}}),e)}))),r.onChangeProjectOptions=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.isAddNewProject){e.next=5;break}return e.next=3,r.addProject(r.state.name,r.state.notes);case 3:e.next=7;break;case 5:return e.next=7,r.changeProject(r.state.currentProjectId,r.state.name,r.state.notes);case 7:case"end":return e.stop()}}),e)}))),r.openDialogToAddProject=function(){r.updateState({name:"",notes:"",isOpenOptions:!0,currentProjectId:null,isAddNewProject:!0})},r.openDialogToChangeProject=function(e){var t=Number(e.target.id),a=r.findProjectById(t);void 0!==a&&r.updateState({name:a.name,notes:a.notes,isOpenOptions:!0,currentProjectId:t,isAddNewProject:!1})},r.openProject=function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Number(t.target.id),e.next=3,r.props.openProject(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.deleteProject=function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Number(t.target.id),e.next=3,r.props.deleteProject(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={name:"",notes:"",isOpenOptions:!1,currentProjectId:null,isAddNewProject:!1},r}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(r.Fragment,null,n.a.createElement(A.a,null,n.a.createElement("h1",null,"\u041f\u0440\u043e\u0435\u043a\u0442\u044b"),n.a.createElement(_.a,null,this.props.projects.map((function(t,a,r){return n.a.createElement(T.a,{style:{width:"18rem"},key:t.id},n.a.createElement(T.a.Body,null,n.a.createElement(T.a.Title,null,t.name),n.a.createElement(T.a.Text,null,t.notes),n.a.createElement(T.a.Link,{href:"#",id:t.id,onClick:e.openProject},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"),n.a.createElement(T.a.Link,{href:"#",id:t.id,onClick:e.openDialogToChangeProject},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),n.a.createElement(T.a.Link,{href:"#",id:t.id,onClick:e.deleteProject},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),n.a.createElement(T.a.Footer,null,n.a.createElement("small",{className:"text-muted"},t.createion_datetime)))})),n.a.createElement(T.a,{style:{width:"18rem"}},n.a.createElement(T.a.Body,null,n.a.createElement(T.a.Link,{href:"#",onClick:this.openDialogToAddProject},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442..."))))),n.a.createElement(I,{show:this.state.isOpenOptions,name:this.state.name,notes:this.state.notes,onChangeName:this.onChangeName,onChangeNotes:this.onChangeNotes,onCancelProjectOptions:this.onCancelProjectOptions,onChangeProjectOptions:this.onChangeProjectOptions}))}}]),a}(n.a.Component),K=a(248),N=a(625),D=a(190),F=a(249),U=a(117),z=a(624),B=a(620),M=a.n(B),H=a(623),J=a.n(H)()(M.a),q=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).clearState=function(){r.updateState({})},r.state={},r}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(J,{data:[{z:this.props.amplitudes,type:"heatmap"}],layout:{autosize:!0,yaxis:{autorange:"reversed",title:{text:"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u0442\u0441\u0447\u0435\u0442\u044b"}},xaxis:{title:{text:"\u0422\u0440\u0430\u0441\u0441\u044b"}}},useResizeHandler:!0,config:{scrollZoom:!0,responsive:!0},style:{width:"100vw",height:"75vh"}})}}]),a}(n.a.Component),W=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).clearState=function(){r.updateState({amplitudes:null})},r.updateState=function(e){r.setState((function(t){return Object(l.a)(Object(l.a)({},t),e)}))},r.deleteRadargram=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.project.id,a=r.props.radargram.id,e.next=4,r.props.deleteRadargram(t,a);case 4:case"end":return e.stop()}}),e)}))),r.getRadargramLink=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.project.id,a=r.props.radargram.id,e.next=4,r.props.getRadargramLink(t,a);case 4:case"end":return e.stop()}}),e)}))),r.onCollapseRadargram=Object(i.a)(u.a.mark((function e(){var t,a,n,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(r.state.amplitudes),null===r.state.amplitudes){e.next=3;break}return e.abrupt("return");case 3:return t=r.props.project.id,a=r.props.radargram.id,0,n=r.props.radargram.traces_count,c=Math.ceil(r.props.radargram.traces_count/r.props.tracesCountOnPage),e.next=10,r.props.getTraces(t,a,0,n,c);case 10:s=e.sent,console.log(s),r.updateState({amplitudes:s.amplitudes});case 13:case"end":return e.stop()}}),e)}))),r.state={amplitudes:null},r}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(U.a,null,n.a.createElement(T.a,null,n.a.createElement(T.a.Header,null,n.a.createElement(U.a.Toggle,{as:w.a,variant:"link",eventKey:"0"},"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b")),n.a.createElement(U.a.Collapse,{eventKey:"0"},n.a.createElement(T.a.Body,null,n.a.createElement(z.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440"),n.a.createElement("th",null,"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"))),n.a.createElement("tbody",null,n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")," ",n.a.createElement("td",null,this.props.radargram.name)," "),n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438")," ",n.a.createElement("td",null,this.props.radargram.notes)," "),n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u0428\u0430\u0433 \u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u043c")," ",n.a.createElement("td",null,this.props.radargram.stage_between_traces)," "),n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0437\u0432\u0435\u0440\u0442\u043a\u0430, \u043d\u0441")," ",n.a.createElement("td",null,this.props.radargram.time_base)," "),n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0440\u0430\u0441\u0441")," ",n.a.createElement("td",null,this.props.radargram.traces_count)," "),n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u0442\u0441\u0447\u0435\u0442\u043e\u0432")," ",n.a.createElement("td",null,this.props.radargram.samples_count)," "),n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043c\u0435\u0436\u0434\u0443 \u0430\u043d\u0442\u0435\u043d\u043d\u0430\u043c\u0438, \u043c")," ",n.a.createElement("td",null,this.props.radargram.distance_between_antennas)," "),n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u041c\u043e\u0434\u0435\u043b\u044c \u0433\u0435\u043e\u0440\u0430\u0434\u0430\u0440\u0430")," ",n.a.createElement("td",null,this.props.radargram.GPR_unit)," "),n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u0410\u043d\u0442\u0435\u043d\u043d\u0430")," ",n.a.createElement("td",null,this.props.radargram.antenna_name)," "),n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u043e\u0442\u0430, \u041c\u0413\u0446")," ",n.a.createElement("td",null,this.props.radargram.frequency)," "),n.a.createElement("tr",null," ",n.a.createElement("td",null,"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f")," ",n.a.createElement("td",null,this.props.radargram.creation_datetime)," ")))))),n.a.createElement(T.a,null,n.a.createElement(T.a.Header,null,n.a.createElement(U.a.Toggle,{as:w.a,variant:"link",eventKey:"1",onClick:this.onCollapseRadargram},"\u0420\u0430\u0434\u0430\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430")),n.a.createElement(U.a.Collapse,{eventKey:"1"},n.a.createElement(T.a.Body,null,n.a.createElement(q,{project:this.props.project,radargram:this.props.radargram,amplitudes:this.state.amplitudes})))),n.a.createElement(T.a,null,n.a.createElement(T.a.Header,null,n.a.createElement(U.a.Toggle,{as:w.a,variant:"link",eventKey:"2"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f")),n.a.createElement(U.a.Collapse,{eventKey:"2"},n.a.createElement(T.a.Body,null,n.a.createElement("p",null,n.a.createElement("a",{href:"#delete",onClick:this.deleteRadargram},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u0430\u0434\u0430\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443")),n.a.createElement("p",null,n.a.createElement("a",{href:"#download",onClick:this.getRadargramLink},"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0434\u0430\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443"))))))}}]),a}(n.a.Component),Z=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).setLoading=function(e){r.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{loading:e})}))},r.onFileChange=function(e){if(console.log("onFileChange"),null!==e.target&&null!=e.target.files){var t=e.target.files[0];console.log(t),r.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{selectedFile:t})}))}},r.onFileUpload=function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onFileUpload"),null!==r.state.selectedFile&&((a=new FormData).append("datafile",r.state.selectedFile,r.state.selectedFile.name),r.setLoading(!0),r.props.fileUpload(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={selectedFile:null,loading:!1},r}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.loading?n.a.createElement(S.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"\u041e\u0442\u043a\u0440\u044b\u0442\u044c";return n.a.createElement(x.a,null,n.a.createElement(P.a,{show:this.props.show,onHide:this.props.onCancelOpenRad},n.a.createElement(P.a.Header,{closeButton:!0},n.a.createElement(P.a.Title,null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0434\u0430\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443")),n.a.createElement(P.a.Body,null,n.a.createElement(x.a.File,{id:"rad-file",onChange:this.onFileChange})),n.a.createElement(P.a.Footer,null,n.a.createElement(w.a,{variant:"secondary",onClick:this.props.onCancelOpenRad},"\u041e\u0442\u043c\u0435\u043d\u0430"),n.a.createElement(w.a,{variant:"primary",disabled:null===this.state.selectedFile,onClick:this.onFileUpload},e))))}}]),a}(n.a.Component),$=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(e){var r;return Object(p.a)(this,a),(r=t.call(this,e)).updateState=function(e){r.setState((function(t){return Object(l.a)(Object(l.a)({},t),e)}))},r.clearState=function(){r.updateState({isOpenDialog:!1})},r.cancelOpenRad=function(){r.updateState({isOpenDialog:!1})},r.openDialog=function(){r.updateState({isOpenDialog:!0})},r.fileUpload=function(e){r.props.addRadargram(r.props.project.id,e)},r.state={isOpenDialog:!1},r}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(r.Fragment,null,n.a.createElement(Z,{show:this.state.isOpenDialog,onCancelOpenRad:this.cancelOpenRad,fileUpload:this.fileUpload}),n.a.createElement(O.a,{activeKey:"/home",onSelect:function(t){return e.props.closeProject()}},n.a.createElement(O.a.Item,null,n.a.createElement(O.a.Link,{href:"#"},"\u041a \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c")),n.a.createElement(O.a.Item,null,n.a.createElement(O.a.Link,{eventKey:"disabled",disabled:!0},"\u041f\u0440\u043e\u0435\u043a\u0442: ",n.a.createElement("b",null,this.props.project.name)))),n.a.createElement(K.a.Container,{id:"list-group-tabs-example",defaultActiveKey:"#link1"},n.a.createElement(N.a,null,n.a.createElement(D.a,{sm:2},n.a.createElement(F.a,null,this.props.radargrams.map((function(e,t,a){return n.a.createElement(F.a.Item,{action:!0,href:"#".concat(e.id),key:"listkey".concat(e.id)},e.name)}))),n.a.createElement(F.a.Item,{key:"listkey_new"},n.a.createElement("a",{href:"#add",onClick:this.openDialog},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))),n.a.createElement(D.a,{sm:10},n.a.createElement(K.a.Content,null,this.props.radargrams.map((function(t,a,r){return n.a.createElement(K.a.Pane,{eventKey:"#".concat(t.id),key:"contentkey".concat(t.id)},n.a.createElement(W,{project:e.props.project,radargram:t,key:"radkey".concat(t.id),deleteRadargram:e.props.deleteRadargram,getRadargramLink:e.props.getRadargramLink,getTraces:e.props.getTraces,tracesCountOnPage:e.props.tracesCountOnPage}))})))))))}}]),a}(n.a.Component),Q=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(R.a,null,n.a.createElement("h1",{style:{textAlign:"center"}},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"),n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(S.a,{animation:"border",role:"status"},n.a.createElement("span",{className:"sr-only"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."))))}}]),a}(n.a.Component),V=function(e){Object(m.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).updateState=function(t){e.setState((function(e){return Object(l.a)(Object(l.a)({},e),t)}))},e.registrate=function(){var t=Object(i.a)(u.a.mark((function t(a,r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.logic.authLogic.registrate(a,r);case 2:if("OK"!==(n=t.sent).status){t.next=9;break}return t.next=6,e.getProjects();case 6:e.updateState({status:"STATUS_LOGGED",sign_error:null,username:e.logic.authLogic.username,page:"PAGE_PROJECTS",projects:e.logic.projects,currentProjectId:e.logic.currentProjectId,radargrams:e.logic.radargrams}),t.next=10;break;case 9:e.updateState({sign_error:n.message});case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.logIn=function(){var t=Object(i.a)(u.a.mark((function t(a,r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.logic.authLogic.logIn(a,r);case 2:if("OK"!==(n=t.sent).status){t.next=9;break}return t.next=6,e.getProjects();case 6:e.updateState({status:"STATUS_LOGGED",sign_error:null,username:e.logic.authLogic.username,page:"PAGE_PROJECTS",projects:e.logic.projects,currentProjectId:e.logic.currentProjectId,radargrams:e.logic.radargrams}),t.next=10;break;case 9:e.updateState({sign_error:n.message});case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.logOut=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.updateState({status:"STATUS_NOT_LOGGED",sign_error:null,username:null});case 1:case"end":return t.stop()}}),t)}))),e.getProjects=Object(i.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.waiting){t.next=2;break}return t.abrupt("return");case 2:return e.updateState({waiting:!0}),t.next=5,e.logic.getProjects();case 5:"OK"===t.sent.status?e.updateState({is_loaded_data:!0,waiting:!1,projects:e.logic.projects,currentProjectId:e.logic.currentProjectId}):e.updateState({waiting:!1});case 7:case"end":return t.stop()}}),t)}))),e.addProject=function(){var t=Object(i.a)(u.a.mark((function t(a,r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.waiting){t.next=2;break}return t.abrupt("return");case 2:return e.updateState({waiting:!0}),t.next=5,e.logic.addProject(a,r);case 5:"OK"===t.sent.status?e.updateState({is_loaded_data:!0,waiting:!1,projects:e.logic.projects,currentProjectId:e.logic.currentProjectId}):e.updateState({waiting:!1});case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.changeProject=function(){var t=Object(i.a)(u.a.mark((function t(a,r,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.waiting){t.next=2;break}return t.abrupt("return");case 2:return e.updateState({waiting:!0}),t.next=5,e.logic.updateProject(a,r,n);case 5:"OK"===t.sent.status?e.updateState({is_loaded_data:!0,waiting:!1,projects:e.logic.projects,currentProjectId:e.logic.currentProjectId}):e.updateState({waiting:!1});case 7:case"end":return t.stop()}}),t)})));return function(e,a,r){return t.apply(this,arguments)}}(),e.deleteProject=function(){var t=Object(i.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.waiting){t.next=2;break}return t.abrupt("return");case 2:return e.updateState({waiting:!0}),t.next=5,e.logic.deleteProject(a);case 5:"OK"===t.sent.status?e.updateState({is_loaded_data:!0,waiting:!1,projects:e.logic.projects,currentProjectId:e.logic.currentProjectId}):e.updateState({waiting:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.openProject=function(){var t=Object(i.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.waiting){t.next=2;break}return t.abrupt("return");case 2:return e.updateState({waiting:!0}),t.next=5,e.logic.openProject(a);case 5:"OK"===t.sent.status?e.updateState({is_loaded_data:!0,waiting:!1,page:"PAGE_RADARGRAMS",radargrams:e.logic.radargrams}):e.updateState({waiting:!1,page:"PAGE_PROJECTS"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.closeProject=function(){e.updateState({page:"PAGE_PROJECTS"})},e.deleteRadargram=function(){var t=Object(i.a)(u.a.mark((function t(a,r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.waiting){t.next=2;break}return t.abrupt("return");case 2:return e.updateState({waiting:!0}),t.next=5,e.logic.deleteRadargram(a,r);case 5:"OK"===t.sent.status?e.updateState({waiting:!1,page:"PAGE_PROJECTS",radargrams:e.logic.radargrams}):e.updateState({waiting:!1});case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getRadargramLink=function(){var t=Object(i.a)(u.a.mark((function t(a,r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.logic.getRadargramLink(a,r);case 2:n=t.sent,window.open(n.link);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.addRadargram=function(){var t=Object(i.a)(u.a.mark((function t(a,r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.waiting){t.next=2;break}return t.abrupt("return");case 2:return e.updateState({waiting:!0}),t.next=5,e.logic.uploadRadargram(a,r);case 5:if("OK"!==t.sent.status){t.next=13;break}return t.next=9,e.logic.openProject(a);case 9:"OK"===t.sent.status?e.updateState({waiting:!1,page:"PAGE_RADARGRAMS",radargrams:e.logic.radargrams}):e.updateState({waiting:!1,page:"PAGE_PROJECTS"}),t.next=15;break;case 13:alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0430\u0434\u0430\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443"),e.updateState({waiting:!1,page:"PAGE_RADARGRAMS"});case 15:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getTraces=function(){var t=Object(i.a)(u.a.mark((function t(a,r,n,c,s){var o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.logic.getTraces(a,r,n,c,s);case 2:return o=t.sent,t.abrupt("return",o);case 4:case"end":return t.stop()}}),t)})));return function(e,a,r,n,c){return t.apply(this,arguments)}}(),e.onSelectMenuElement=function(t){switch(t){case"registration":e.updateState({status:"STATUS_REGISTRATING"});break;case"enter":e.updateState({status:"STATUS_ENTERING"});break;case"exit":e.logOut()}},e.getCurrentComponent=function(){switch(e.state.page){case"PAGE_PROJECTS":return n.a.createElement(G,{projects:e.state.projects,currentProjectId:e.state.currentProjectId,addProject:e.addProject,changeProject:e.changeProject,openProject:e.openProject,deleteProject:e.deleteProject});case"PAGE_RADARGRAMS":return n.a.createElement($,{radargrams:e.state.radargrams,project:e.logic.getCurrentProject(),closeProject:e.closeProject,deleteRadargram:e.deleteRadargram,getRadargramLink:e.getRadargramLink,addRadargram:e.addRadargram,getTraces:e.getTraces,tracesCountOnPage:e.state.tracesCountOnPage})}},e.logic=new E,e.state={status:"STATUS_NOT_LOGGED",page:"PAGE_PROJECTS",sign_error:null,is_loaded_data:!1,waiting:!1,tracesCountOnPage:100,username:null,projects:[],currentProjectId:null,radargrams:[]},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getProjects();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=null;switch(this.state.status){case"STATUS_LOGGED":e=this.state.waiting?n.a.createElement(Q,null):this.getCurrentComponent();break;case"STATUS_NOT_LOGGED":e=n.a.createElement(L,null);break;case"STATUS_REGISTRATING":e=n.a.createElement(C,{isRegistration:!0,error:this.state.sign_error,onOkSign:this.registrate,onCancelSign:this.logOut});break;case"STATUS_ENTERING":e=n.a.createElement(C,{isRegistration:!1,error:this.state.sign_error,onOkSign:this.logIn,onCancelSign:this.logOut})}return n.a.createElement(r.Fragment,null,n.a.createElement(k,{username:this.state.username,logged:"STATUS_LOGGED"===this.state.status,onSelectMenuElement:this.onSelectMenuElement}),e)}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},628:function(e,t,a){e.exports=a(1447)},633:function(e,t,a){},945:function(e,t){}},[[628,1,2]]]);
//# sourceMappingURL=main.070f7325.chunk.js.map